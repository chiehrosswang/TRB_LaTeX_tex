%
% Transportation Research Board conference paper template
% version 3.1 Lite
%
% When numbered option is activated, lines are numbered.
\documentclass[numbered]{trbunofficial}
\usepackage{graphicx}

% \usepackage[colorlinks=true,linkcolor=blue,citecolor=blue]{hyperref}
% For TRB version hide links
\usepackage[hidelinks]{hyperref}

% Put here what will go to headers as author
\AuthorHeaders{Pritchard, Macfarlane, and Wang}
\title{A \LaTeX\ Template for Papers Submitted to the Transportation
Research Board}

% TODO: add macros for easier formatting of \author.
\author{%
  \textbf{David Pritchard}\\
  davidpritchard.org\\
  \hfill\break% this is a way to add line numbering on empty line
  \textbf{Gregory S. Macfarlane, Ph.D.}\\
  \hfill\break%
  \textbf{Chieh (Ross) Wang, Ph.D.}\\
  info@crosswang.org
}

% If necessary modify the number of words per table or figure default is set to
% 250 words per table and figure
% \WordsPerTable{250}
% \WordsPerFigure{250}

% If words are counted manually, put that number here. This does not include
% figures and tables. This can also be used to avoid problems with texcount
% program i.e. if one does not have it installed.
% \TotalWords{200}

\begin{document}
\maketitle

\input{sections/00-abstract.tex}

\hfill\break%
\noindent\textit{Keywords}: Keyword1, Keyword2
\newpage

\input{sections/01-introduction.tex}

\section{Captions}
Figure~\ref{fig:trial} shows a Gumbel distribution as an example of captioning.
As demonstrated, figure captions ought to be sentence capitalized, balded, and
can be somewhat longer than in other journals.

\begin{figure}[!ht]
  \centering
  \includegraphics[width=0.6\textwidth]{trb_template-gumbel}
  \caption{This is a random figure to test the counting functionality on the
  title page. It shows a Gumbel distribution with mode 0 and scale 1. The
  multinomial logit model assumes that the error terms are distributed
  identically and independently following this pattern.}\label{fig:trial}
\end{figure}

Table captions are somewhat different, requiring initial capitals and are more
of a title. An example of this is given in Table~\ref{tab:versions}, showing
the history of this template.

\begin{table}[!ht]
	\caption{A History of this Template}\label{tab:versions}
	\begin{center}
		\begin{tabular}{l l l l}
			Version & Date & Author & Contributions \\\hline
			1.0   & Sep 2009 & Pritchard & Initial work \\
			1.1   & Mar 2011 & Pritchard & Captions \\
			2.0   & Mar 2012 & Macfarlane& Automation, documentation\\
			2.1   & Jul 2015 & Wang      & More automation and formatting\\
			2.1.1 & Jan 2016 & Wang      & Minor modifications and uploaded to Github\\
			2.1.1 Lite & Jun 2017 & Wang & \TeX-only template \\
			3.1   & Jun 2017 & Wang      & Addition of \verb1trbunofficial.cls1\\
			3.1 Lite & Jun 2017 & Wang   & Addition of \verb1trbunofficial.cls1\\\hline
		\end{tabular}
	\end{center}
\end{table}

\subsection{Bibliography}
The TRB bibliography style is defined in the \verb1trb.bst1 file which should
be in your document folder. A new command is specified, \verb1\trbcite{}1 which
will print the authors and the number of the reference in the order in which it
is supplied. Note that \verb1\trbcite{}1 prints both the author names and the
reference number, if you simply need the number of the reference, use command
\verb|\cite{}|. The References section will be appended to the end of the
document.

It is very easy to add reference to papers programs written by
\trbcite{Bierlaire2003} and \trbcite{Bierlaire2008} or to papers like those
written by \trbcite{Garrow2009} and \trbcite{Koppelman2005}. You can even go
back and refer to Biog\'eme by \trbcite{Bierlaire2008} a second time. You can
also cite a group of similar references without printing author names
\cite{TRBGuide,Bierlaire2003}. This template also groups multiple reference
numbers together if there are three or more consecutive numbers
\cite{Bierlaire2003,Bierlaire2008,Garrow2009,Koppelman2005}.

\subsection{Equations}
Intelligent driver model equations from wikipedia
\url{https://en.wikipedia.org/wiki/Intelligent_driver_model} moved to the left
using \verb1amsmath1 package with \verb1fleqn1 options.

\begin{linenomath}
  \begin{flalign}
    &\dot{x}_\alpha = \frac{\mathrm{d}x_\alpha}{\mathrm{d}t} = v_\alpha \\
    &\dot{v}_\alpha = \frac{\mathrm{d}v_\alpha}{\mathrm{d}t} = a\,\left( 1 - \left(\frac{v_\alpha}{v_0}\right)^\delta - \left(\frac{s^*(v_\alpha,\Delta v_\alpha)}{s_\alpha}\right)^2 \right)
  \end{flalign}
\end{linenomath}

\begin{linenomath}
  \begin{equation}
  s^*(v_\alpha,\Delta v_\alpha) = s_0 + v_\alpha\,T + \frac{v_\alpha\,\Delta v_\alpha}{2\,\sqrt{a\,b}}
  \end{equation}
\end{linenomath}

\section{To Do's}
Two document types, extending from the \verb1[numbered]1 option, can be defined to differentiate the initial submission (i.e., with line numbers and in-line figures and tables) and the final manuscript (i.e., without line numbers and all figures and tables are attached to the end).

\section{Conclusion}
To make the document from source in a Unix-like OS using Sweave, issue the
following commands:
\begin{verbatim}
R CMD SWEAVE 'trb_template.rnw'
pdflatex --shell-escape document.tex
bibtex document
pdflatex --shell-escape document.tex
pdflatex --shell-escape document.tex
\end{verbatim}

The \verb1--shell-escape1 option is required to access the command line for the
word count. Normally this feature is disabled because it is a route of entry
for malicious software. We promise that there is no such debilitating code in
this document, and we encourage you to examine any scripts for suspicious code
before permitting \verb1pdflatex1 from accessing your system.

For R-Studio users using Sweave and~.rnw files, you may enable shell escape
command in the Global Options > Sweave settings.  Moreover, if your computer
does not have a Perl interpreter you will need one, such as the ActivePerl, for
the wordcount to work properly.

\section{Acknowledgements}
The authors would like to thank Aleksandar Trifunovic (\url{https://github.com/akstrfn}) for creating the \verb1trbunofficial1 class document, which has been a very helpful improvement.

\newpage

\bibliographystyle{trb}
\bibliography{trb_template}
\end{document}
